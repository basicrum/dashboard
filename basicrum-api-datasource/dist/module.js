define(["@grafana/data","react","@grafana/ui"],((e,t,r)=>(()=>{"use strict";var n={305:t=>{t.exports=e},388:e=>{e.exports=r},650:e=>{e.exports=t}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return(()=>{a.r(c),a.d(c,{plugin:()=>d});var e=a(305);function t(e,t,r,n,o,a,c){try{var u=e[a](c),l=u.value}catch(e){return void r(e)}u.done?t(l):Promise.resolve(l).then(n,o)}function r(e){return function(){var r=this,n=arguments;return new Promise((function(o,a){var c=e.apply(r,n);function u(e){t(c,o,a,u,l,"next",e)}function l(e){t(c,o,a,u,l,"throw",e)}u(void 0)}))}}class n extends e.DataSourceApi{query(t){return r((function*(){const{range:r}=t,n=r.from.valueOf(),o=r.to.valueOf();return{data:t.targets.map((t=>new e.MutableDataFrame({refId:t.refId,fields:[{name:"Time",values:[n,o],type:e.FieldType.time},{name:"Value",values:[t.constant,t.constant],type:e.FieldType.number}]})))}}))()}testDatasource(){return r((function*(){return{status:"success",message:"Success"}}))()}constructor(e){super(e)}}var o=a(650),u=a.n(o),l=a(388);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}function b(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const d=new e.DataSourcePlugin(n).setConfigEditor((function(e){const{onOptionsChange:t,options:r}=e,{jsonData:n,secureJsonFields:o}=r,a=r.secureJsonData||{};return u().createElement("div",{className:"gf-form-group"},u().createElement(l.InlineField,{label:"Path",labelWidth:12},u().createElement(l.Input,{onChange:e=>{const n=p(s({},r.jsonData),{path:e.target.value});t(p(s({},r),{jsonData:n}))},value:n.path||"",placeholder:"json field returned to frontend",width:40})),u().createElement(l.InlineField,{label:"API Key",labelWidth:12},u().createElement(l.SecretInput,{isConfigured:o&&o.apiKey,value:a.apiKey||"",placeholder:"secure json field (backend only)",width:40,onReset:()=>{t(p(s({},r),{secureJsonFields:p(s({},r.secureJsonFields),{apiKey:!1}),secureJsonData:p(s({},r.secureJsonData),{apiKey:""})}))},onChange:e=>{t(p(s({},r),{secureJsonData:{apiKey:e.target.value}}))}})))})).setQueryEditor((function({query:e,onChange:t,onRunQuery:r}){const{queryText:n,constant:o}=e;return u().createElement("div",{className:"gf-form"},u().createElement(l.InlineField,{label:"Constant"},u().createElement(l.Input,{onChange:n=>{t(b(y({},e),{constant:parseFloat(n.target.value)})),r()},value:o,width:8,type:"number",step:"0.1"})),u().createElement(l.InlineField,{label:"Query Text",labelWidth:16,tooltip:"Not used yet"},u().createElement(l.Input,{onChange:r=>{t(b(y({},e),{queryText:r.target.value}))},value:n||""})))}))})(),c})()));
//# sourceMappingURL=module.js.map