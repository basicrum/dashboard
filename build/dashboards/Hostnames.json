{
    "annotations": {
        "list": [
            {
                "builtIn": 1,
                "datasource": {
                    "type": "grafana"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "target": {
                    "limit": 100,
                    "matchAny": false,
                    "tags": [],
                    "type": "dashboard"
                },
                "type": "dashboard"
            }
        ]
    },
    "editable": false,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 0,
    "id": null,
    "links": [],
    "liveNow": false,
    "panels": [
        {
            "datasource": {
                "type": "vertamedia-clickhouse-datasource",
                "uid": "BRUMMUCSTARBUCS"
            },
            "description": "",
            "gridPos": {
                "h": 4,
                "w": 24,
                "x": 0,
                "y": 0
            },
            "id": 1,
            "options": {
                "buttonGroup": {
                    "orientation": "center",
                    "size": "md"
                },
                "elements": [
                    {
                        "hidden": false,
                        "id": "hostname",
                        "labelWidth": 10,
                        "section": "",
                        "title": "Hostname",
                        "tooltip": "",
                        "type": "string",
                        "uid": "7dd22e57-5bff-47b9-b56e-c4565241d665",
                        "unit": "",
                        "value": ""
                    }
                ],
                "initial": {
                    "code": "console.log(data, response, initial, elements);\n\nreturn;\n\n/**\n * Data Source\n * Requires form elements to be defined\n */\nconst dataQuery = toDataQueryResponse(response);\nconsole.log(dataQuery);",
                    "contentType": "application/json",
                    "getPayload": "return {\n  rawSql: '',\n  format: 'table',\n}",
                    "highlight": false,
                    "highlightColor": "red",
                    "method": "-"
                },
                "layout": {
                    "orientation": "horizontal",
                    "padding": 10,
                    "variant": "single"
                },
                "reset": {
                    "backgroundColor": "purple",
                    "foregroundColor": "yellow",
                    "icon": "process",
                    "text": "Reset",
                    "variant": "hidden"
                },
                "resetAction": {
                    "code": "console.log(data, response, initial, elements);",
                    "mode": "initial"
                },
                "saveDefault": {
                    "icon": "save",
                    "text": "Save Default",
                    "variant": "hidden"
                },
                "submit": {
                    "backgroundColor": "purple",
                    "foregroundColor": "yellow",
                    "icon": "cloud-upload",
                    "text": "Register",
                    "variant": "primary"
                },
                "update": {
                    "code": "if (response && response.ok) {\n  notifySuccess(['Submit', 'Form was submitted successfully.']);\n  locationService.reload();\n} else {\n  notifyError(['Submit', 'An error occurred during form submission.']);\n}",
                    "confirm": true,
                    "contentType": "application/json",
                    "getPayload": "const payload = {};\n\nelements.forEach((element) => {\n  if (!element.value) {\n    return;\n  }\n\n  payload[element.id] = element.value;\n})\n\nreturn payload;\n\n/**\n * Data Source payload\n */ \nreturn {\n  rawSql: '',\n  format: 'table',\n};",
                    "method": "POST",
                    "payloadMode": "all",
                    "url": "/api/datasources/proxy/2/basicrum/hostnames"
                },
                "script": "",
                "onclick": ""
            },
            "targets": [
                {
                    "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "BRUMMUCSTARBUCS"
                    },
                    "dateTimeType": "DATETIME",
                    "extrapolate": true,
                    "format": "time_series",
                    "formattedQuery": "",
                    "intervalFactor": 1,
                    "query": "select 1",
                    "rawQuery": "",
                    "refId": "A",
                    "round": "0s",
                    "skip_comments": true,
                    "database": "default",
                    "table": "webperf_rum_events"
                }
            ],
            "title": "Register Hostname",
            "type": "volkovlabs-form-panel"
        },
        {
            "datasource": {
                "type": "vertamedia-clickhouse-datasource",
                "uid": "BRUMMUCSTARBUCS"
            },
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "mode": "thresholds"
                    },
                    "custom": {
                        "align": "auto",
                        "displayMode": "auto",
                        "inspect": false
                    },
                    "mappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "green",
                                "value": null
                            },
                            {
                                "color": "red",
                                "value": 80
                            }
                        ]
                    }
                },
                "overrides": []
            },
            "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 4
            },
            "id": 2,
            "options": {
                "footer": {
                    "fields": "",
                    "reducer": [
                        "sum"
                    ],
                    "show": false
                },
                "showHeader": true,
                "sortBy": [],
                "layout": {},
                "script": "",
                "onclick": ""
            },
            "targets": [
                {
                    "database": "default",
                    "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "BRUMMUCSTARBUCS"
                    },
                    "dateColDataType": "event_date",
                    "dateLoading": false,
                    "dateTimeColDataType": "created_at",
                    "dateTimeType": "DATETIME",
                    "datetimeLoading": false,
                    "extrapolate": true,
                    "format": "table",
                    "formattedQuery": "",
                    "intervalFactor": 1,
                    "query": "SELECT hostname, subscription_id as `Subscription ID`, subscription_expire_at as `Expire At` from webperf_rum_own_hostnames where username = '${__user.login}' order by hostname",
                    "rawQuery": "",
                    "refId": "A",
                    "round": "0s",
                    "skip_comments": true,
                    "table": "webperf_rum_events",
                    "tableLoading": false
                }
            ],
            "title": "Hostnames",
            "transformations": [],
            "transparent": true,
            "type": "table"
        },
        {
            "datasource": {
                "type": "vertamedia-clickhouse-datasource",
                "uid": "BRUMMUCSTARBUCS"
            },
            "description": "",
            "gridPos": {
                "h": 4,
                "w": 24,
                "x": 0,
                "y": 12
            },
            "id": 3,
            "options": {
                "buttonGroup": {
                    "orientation": "center",
                    "size": "md"
                },
                "elements": [
                    {
                        "hidden": false,
                        "id": "hostname",
                        "labelWidth": 10,
                        "section": "",
                        "title": "Hostname",
                        "tooltip": "",
                        "type": "disabled",
                        "uid": "d7dd22e57-5bff-47b9-b56e-c4565241d665",
                        "unit": "",
                        "value": ""
                    }
                ],
                "initial": {
                    "code": "const elementName = \"hostname\";\nlet elementValue = \"$hostname\";\nif (elementValue.indexOf(\"{\") == 0) {\n  elementValue = \"\";\n}\nif (!elementValue) {\n  elementValue = \"Please, select hostname from filter!\";\n}\nconst element = elements.find((element) => element.id === elementName);\nelement.value = elementValue;\nsetInitial({ elementName: \"\" });\n",
                    "contentType": "application/json",
                    "getPayload": "return {\n  rawSql: '',\n  format: 'table',\n}",
                    "highlight": false,
                    "highlightColor": "red",
                    "method": "-"
                },
                "layout": {
                    "orientation": "horizontal",
                    "padding": 10,
                    "variant": "single"
                },
                "reset": {
                    "backgroundColor": "purple",
                    "foregroundColor": "yellow",
                    "icon": "process",
                    "text": "Reset",
                    "variant": "hidden"
                },
                "resetAction": {
                    "code": "console.log(data, response, initial, elements);",
                    "mode": "initial"
                },
                "saveDefault": {
                    "icon": "save",
                    "text": "Save Default",
                    "variant": "hidden"
                },
                "submit": {
                    "backgroundColor": "purple",
                    "foregroundColor": "yellow",
                    "icon": "cloud-upload",
                    "text": "Delete",
                    "variant": "primary"
                },
                "update": {
                    "code": "if (response && response.ok) {\n  notifySuccess(['Submit', 'Form was submitted successfully.']);\n  locationService.reload();\n} else {\n  notifyError(['Submit', 'An error occurred during form submission.']);\n}",
                    "confirm": true,
                    "contentType": "application/json",
                    "getPayload": "const payload = {};\n\nelements.forEach((element) => {\n  if (!element.value) {\n    return;\n  }\n\n  payload[element.id] = element.value;\n})\n\nreturn payload;\n\n/**\n * Data Source payload\n */ \nreturn {\n  rawSql: '',\n  format: 'table',\n};",
                    "method": "DELETE",
                    "payloadMode": "all",
                    "url": "/api/datasources/proxy/2/basicrum/hostnames"
                },
                "script": "",
                "onclick": ""
            },
            "targets": [
                {
                    "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "BRUMMUCSTARBUCS"
                    },
                    "dateTimeType": "DATETIME",
                    "extrapolate": true,
                    "format": "time_series",
                    "formattedQuery": "",
                    "intervalFactor": 1,
                    "query": "select 1",
                    "rawQuery": "",
                    "refId": "A",
                    "round": "0s",
                    "skip_comments": true,
                    "database": "default",
                    "table": "webperf_rum_events"
                }
            ],
            "title": "Delete Hostname",
            "type": "volkovlabs-form-panel"
        },
        {
            "datasource": {
                "type": "vertamedia-clickhouse-datasource",
                "uid": "BRUMMUCSTARBUCS"
            },
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "mode": "thresholds"
                    },
                    "custom": {
                        "align": "auto",
                        "displayMode": "auto",
                        "inspect": false
                    },
                    "mappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "green",
                                "value": null
                            },
                            {
                                "color": "red",
                                "value": 80
                            }
                        ]
                    }
                },
                "overrides": []
            },
            "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 16
            },
            "id": 4,
            "options": {
                "footer": {
                    "fields": "",
                    "reducer": [
                        "sum"
                    ],
                    "show": false
                },
                "showHeader": true,
                "sortBy": [],
                "layout": {},
                "script": "",
                "onclick": ""
            },
            "targets": [
                {
                    "database": "default",
                    "datasource": {
                        "type": "vertamedia-clickhouse-datasource",
                        "uid": "BRUMMUCSTARBUCS"
                    },
                    "dateColDataType": "event_date",
                    "dateLoading": false,
                    "dateTimeColDataType": "created_at",
                    "dateTimeType": "DATETIME",
                    "datetimeLoading": false,
                    "extrapolate": true,
                    "format": "table",
                    "formattedQuery": "",
                    "intervalFactor": 1,
                    "query": "SELECT hostname, role_name from webperf_rum_view_hostnames where username = '${__user.login}' order by hostname",
                    "rawQuery": "",
                    "refId": "A",
                    "round": "0s",
                    "skip_comments": true,
                    "table": "webperf_rum_events",
                    "tableLoading": false
                }
            ],
            "title": "All hostnames",
            "transformations": [],
            "transparent": true,
            "type": "table"
        }
    ],
    "refresh": false,
    "schemaVersion": 37,
    "style": "dark",
    "tags": [],
    "templating": {
        "list": [
            {
                "allValue": "",
                "current": {
                    "selected": true,
                    "text": [
                        "All"
                    ],
                    "value": [
                        "$__all"
                    ]
                },
                "datasource": {
                    "type": "vertamedia-clickhouse-datasource",
                    "uid": "BRUMMUCSTARBUCS"
                },
                "definition": "SELECT hostname from webperf_rum_own_hostnames where username = '${__user.login}' order by hostname",
                "hide": 0,
                "includeAll": true,
                "label": "Hostname",
                "multi": false,
                "name": "hostname",
                "options": [],
                "query": "SELECT hostname from webperf_rum_own_hostnames where username = '${__user.login}' order by hostname",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 0,
                "type": "query"
            }
        ]
    },
    "time": {
        "from": "now-30d",
        "to": "now"
    },
    "timepicker": {},
    "timezone": "",
    "title": "Hostnames",
    "uid": "basicrum-hostnames",
    "version": 0,
    "weekStart": ""
}